{"ast":null,"code":"import React,{createContext,useState}from\"react\";import all_product from\"../Components/Assets/all_product\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export const ShopContext=/*#__PURE__*/createContext(null);const getDefaultCart=()=>{let cart={};for(let index=0;index<all_product.length+1;index++){cart[index]=0;}return cart;};const ShopContextProvider=props=>{const[cartItems,setCartItems]=useState(getDefaultCart());const addToCart=itemId=>{setCartItems(prev=>({...prev,[itemId]:prev[itemId]+1}));};const removeFromCart=itemId=>{setCartItems(prev=>({...prev,[itemId]:prev[itemId]-1}));};const getTotalCartAmount=()=>{let totalAmount=0;// cartItems[e.id]>0\nfor(const item in cartItems){if(cartItems[item]!==0){let itemInfo=all_product.find(product=>product.id===Number(item));totalAmount+=itemInfo.new_price*cartItems[item];}else{return/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",totalAmount]});}return totalAmount;}};const getTotalCartItems=()=>{let totalItem=0;for(const item in cartItems){if(cartItems[item]>0){totalItem+=cartItems[item];}}return totalItem;};const contextValue={getTotalCartItems,getTotalCartAmount,all_product,cartItems,addToCart,removeFromCart};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};export default ShopContextProvider;","map":{"version":3,"names":["React","createContext","useState","all_product","jsxs","_jsxs","jsx","_jsx","ShopContext","getDefaultCart","cart","index","length","ShopContextProvider","props","cartItems","setCartItems","addToCart","itemId","prev","removeFromCart","getTotalCartAmount","totalAmount","item","itemInfo","find","product","id","Number","new_price","children","getTotalCartItems","totalItem","contextValue","Provider","value"],"sources":["C:/Users/aksha/ReactFolder/Newfolder/Ecommerce/FrontEnd/frontend/src/Context/ShopContext.jsx"],"sourcesContent":["import React, { createContext, useState } from \"react\";\r\nimport all_product from \"../Components/Assets/all_product\";\r\nexport const ShopContext = createContext(null);\r\n\r\nconst getDefaultCart = () => {\r\n  let cart = {};\r\n  for (let index = 0; index < all_product.length + 1; index++) {\r\n    cart[index] = 0;\r\n  }\r\n  return cart;\r\n};\r\n\r\nconst ShopContextProvider = (props) => {\r\n  const [cartItems, setCartItems] = useState(getDefaultCart());\r\n\r\n  const addToCart = (itemId) => {\r\n    setCartItems((prev) => ({\r\n      ...prev,\r\n      [itemId]: prev[itemId] + 1,\r\n    }));\r\n  };\r\n  const removeFromCart = (itemId) => {\r\n    setCartItems((prev) => ({\r\n      ...prev,\r\n      [itemId]: prev[itemId] - 1,\r\n    }));\r\n  };\r\n\r\n  const getTotalCartAmount = () => {\r\n    let totalAmount = 0;\r\n\r\n    // cartItems[e.id]>0\r\n    for (const item in cartItems) \r\n    {\r\n      if (cartItems[item] !== 0)\r\n       {\r\n        let itemInfo = all_product.find((product) => product.id === Number(item))\r\n        totalAmount += itemInfo.new_price * cartItems[item];\r\n      }else{\r\n        \r\n     return <h1> {totalAmount}</h1>;\r\n        \r\n      }\r\n      return totalAmount;\r\n\r\n    }\r\n  }\r\n\r\n  const getTotalCartItems = () => {\r\n    let totalItem = 0;\r\n    for (const item in cartItems) {\r\n      if (cartItems[item] > 0) {\r\n        totalItem += cartItems[item];\r\n      }\r\n    }\r\n    return totalItem;\r\n  };\r\n\r\n  const contextValue = {\r\n    getTotalCartItems,\r\n    getTotalCartAmount,\r\n    all_product,\r\n    cartItems,\r\n    addToCart,\r\n    removeFromCart,\r\n  };\r\n\r\n  return (\r\n    <ShopContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </ShopContext.Provider>\r\n  )\r\n}\r\nexport default ShopContextProvider;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CACtD,MAAO,CAAAC,WAAW,KAAM,kCAAkC,CAAC,OAAAC,IAAA,IAAAC,KAAA,gCAAAC,GAAA,IAAAC,IAAA,yBAC3D,MAAO,MAAM,CAAAC,WAAW,cAAGP,aAAa,CAAC,IAAI,CAAC,CAE9C,KAAM,CAAAQ,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAAAC,IAAI,CAAG,CAAC,CAAC,CACb,IAAK,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGR,WAAW,CAACS,MAAM,CAAG,CAAC,CAAED,KAAK,EAAE,CAAE,CAC3DD,IAAI,CAACC,KAAK,CAAC,CAAG,CAAC,CACjB,CACA,MAAO,CAAAD,IAAI,CACb,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAIC,KAAK,EAAK,CACrC,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAACO,cAAc,CAAC,CAAC,CAAC,CAE5D,KAAM,CAAAQ,SAAS,CAAIC,MAAM,EAAK,CAC5BF,YAAY,CAAEG,IAAI,GAAM,CACtB,GAAGA,IAAI,CACP,CAACD,MAAM,EAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAC3B,CAAC,CAAC,CAAC,CACL,CAAC,CACD,KAAM,CAAAE,cAAc,CAAIF,MAAM,EAAK,CACjCF,YAAY,CAAEG,IAAI,GAAM,CACtB,GAAGA,IAAI,CACP,CAACD,MAAM,EAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAC3B,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAI,CAAAC,WAAW,CAAG,CAAC,CAEnB;AACA,IAAK,KAAM,CAAAC,IAAI,GAAI,CAAAR,SAAS,CAC5B,CACE,GAAIA,SAAS,CAACQ,IAAI,CAAC,GAAK,CAAC,CACxB,CACC,GAAI,CAAAC,QAAQ,CAAGrB,WAAW,CAACsB,IAAI,CAAEC,OAAO,EAAKA,OAAO,CAACC,EAAE,GAAKC,MAAM,CAACL,IAAI,CAAC,CAAC,CACzED,WAAW,EAAIE,QAAQ,CAACK,SAAS,CAAGd,SAAS,CAACQ,IAAI,CAAC,CACrD,CAAC,IAAI,CAEN,mBAAOlB,KAAA,OAAAyB,QAAA,EAAI,GAAC,CAACR,WAAW,EAAK,CAAC,CAE7B,CACA,MAAO,CAAAA,WAAW,CAEpB,CACF,CAAC,CAED,KAAM,CAAAS,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAI,CAAAC,SAAS,CAAG,CAAC,CACjB,IAAK,KAAM,CAAAT,IAAI,GAAI,CAAAR,SAAS,CAAE,CAC5B,GAAIA,SAAS,CAACQ,IAAI,CAAC,CAAG,CAAC,CAAE,CACvBS,SAAS,EAAIjB,SAAS,CAACQ,IAAI,CAAC,CAC9B,CACF,CACA,MAAO,CAAAS,SAAS,CAClB,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,CACnBF,iBAAiB,CACjBV,kBAAkB,CAClBlB,WAAW,CACXY,SAAS,CACTE,SAAS,CACTG,cACF,CAAC,CAED,mBACEb,IAAA,CAACC,WAAW,CAAC0B,QAAQ,EAACC,KAAK,CAAEF,YAAa,CAAAH,QAAA,CACvChB,KAAK,CAACgB,QAAQ,CACK,CAAC,CAE3B,CAAC,CACD,cAAe,CAAAjB,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}